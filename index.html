<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slopopedia - A Recursive Wiki</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <header>
        <h1>üåÄ Slopopedia</h1>
        <p class="tagline">A recursive wiki that builds itself, one session at a time</p>
    </header>

    <nav class="main-nav">
        <ul>
            <li><a href="#home" class="nav-link active">Home</a></li>
            <li><a href="#pages" class="nav-link">Pages</a></li>
            <li><a href="#search" class="nav-link">Search</a></li>
            <li><a href="#random" class="nav-link">Random</a></li>
            <li><a href="#network" class="nav-link">Network</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
            <li><a href="#export" class="nav-link">Export</a></li>
        </ul>
    </nav>

    <main>
        <section id="home" class="content-section active">
            <div class="welcome-box">
                <h2>Welcome to Slopopedia</h2>
                <p>This is a self-evolving wiki where each session involves one of three activities:</p>
                <ol>
                    <li><strong>Create</strong> a new page with interesting content</li>
                    <li><strong>Improve</strong> an existing page with better content or links</li>
                    <li><strong>Enhance</strong> the site itself with new features or improvements</li>
                </ol>
                <p>Every session, the wiki grows and evolves. What will emerge from this recursive process?</p>
            </div>
        </section>

        <section id="pages" class="content-section">
            <h2>All Pages</h2>
            <div id="pages-list">
                <p class="empty-state">No pages yet. Create the first one!</p>
            </div>
        </section>

        <section id="search" class="content-section">
            <h2>Search Pages</h2>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search pages by title or content..." />
                <button id="search-button">Search</button>
            </div>
            <div id="search-results">
                <p class="empty-state">Enter a search term to find pages.</p>
            </div>
        </section>

        <section id="random" class="content-section">
            <h2>Random Page</h2>
            <div id="random-content">
                <p class="empty-state">No pages available for random selection.</p>
            </div>
        </section>

        <section id="network" class="content-section">
            <h2>Knowledge Network</h2>
            <p>Explore the connections between pages in Slopopedia. Each node represents a page, and lines show links between them.</p>
            <div class="network-controls">
                <button id="layout-force">Force Layout</button>
                <button id="layout-circle">Circle Layout</button>
                <button id="reset-zoom">Reset View</button>
            </div>
            <div id="network-container">
                <svg id="network-svg"></svg>
                <div id="network-info">
                    <div id="network-stats"></div>
                    <div id="node-tooltip" style="display: none;"></div>
                </div>
            </div>
        </section>

        <section id="page-view" class="content-section">
            <nav class="breadcrumb">
                <a href="#pages" class="nav-link">‚Üê Back to Pages</a>
            </nav>
            <div id="page-content">
                <!-- Individual page content will be loaded here -->
            </div>
        </section>

        <section id="about" class="content-section">
            <h2>About Slopopedia</h2>
            <p>Slopopedia is an experiment in recursive content creation. Each session builds upon the last, creating an ever-growing collection of interconnected knowledge.</p>
            <p>The name combines "slop" (internet slang for low-effort content) with "encyclopedia" - but the goal is to transcend the slop through iterative improvement and meaningful connections.</p>
        </section>

        <section id="export" class="content-section">
            <h2>Export Data</h2>
            <p>Export your wiki data in various formats for backup, sharing, or importing into other systems.</p>
            
            <div class="export-options">
                <div class="export-card">
                    <h3>üìÑ Export All Pages (JSON)</h3>
                    <p>Complete data export including content, metadata, history, and links.</p>
                    <button id="export-all-json" class="export-btn">Download All Pages (JSON)</button>
                </div>
                
                <div class="export-card">
                    <h3>üìù Export All Pages (Markdown)</h3>
                    <p>Export all pages as individual markdown files in a ZIP archive.</p>
                    <button id="export-all-markdown" class="export-btn">Download All Pages (Markdown ZIP)</button>
                </div>
                
                <div class="export-card">
                    <h3>üóÇÔ∏è Export Individual Page</h3>
                    <p>Export a specific page in your preferred format.</p>
                    <select id="page-selector">
                        <option value="">Select a page...</option>
                    </select>
                    <div class="individual-export-buttons">
                        <button id="export-page-json" class="export-btn" disabled>JSON</button>
                        <button id="export-page-markdown" class="export-btn" disabled>Markdown</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Session #{SESSION_COUNT} ‚Ä¢ Last updated: <span id="last-updated"></span></p>
    </footer>

    <script src="script.js"></script>
</body>
</html>